{
    "sourceFile": "src/components/AccidentDetailsModal.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 12,
            "patches": [
                {
                    "date": 1748386536191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748386652231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,9 @@\n         if (open && accidentId) {\r\n             const fetchAccidentDetails = async () => {\r\n                 try {\r\n                     const res = await apiClient.post(\"/accident/getConstatByAccident\", { accidentId });\r\n+                    console.log(\"setAccidentDetailssetAccidentDetails\",res)\r\n                     setAccidentDetails(res.data?.result || []);\r\n                 } catch (error) {\r\n                     console.error(\"Error fetching accident details:\", error);\r\n                     setAccidentDetails([]);\r\n"
                },
                {
                    "date": 1748386681114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n             const fetchAccidentDetails = async () => {\r\n                 try {\r\n                     const res = await apiClient.post(\"/accident/getConstatByAccident\", { accidentId });\r\n                     console.log(\"setAccidentDetailssetAccidentDetails\",res)\r\n-                    setAccidentDetails(res.data?.result || []);\r\n+                    setAccidentDetails(res?.data?.result || []);\r\n                 } catch (error) {\r\n                     console.error(\"Error fetching accident details:\", error);\r\n                     setAccidentDetails([]);\r\n                 }\r\n"
                },
                {
                    "date": 1748386693332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n         if (open && accidentId) {\r\n             const fetchAccidentDetails = async () => {\r\n                 try {\r\n                     const res = await apiClient.post(\"/accident/getConstatByAccident\", { accidentId });\r\n-                    console.log(\"setAccidentDetailssetAccidentDetails\",res)\r\n+                    console.log(\"setAccidentDetailssetAccidentDetails\",res?.data?.result)\r\n                     setAccidentDetails(res?.data?.result || []);\r\n                 } catch (error) {\r\n                     console.error(\"Error fetching accident details:\", error);\r\n                     setAccidentDetails([]);\r\n"
                },
                {
                    "date": 1748386819851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,10 @@\n                                 <p><strong>Face Endommagée:</strong> {details.face || \"N/A\"}</p>\r\n                                 <p><strong>Description des Dommages:</strong> {details.damageDescription || \"N/A\"}</p>\r\n                                 <p><strong>Circonstances:</strong></p>\r\n                                 <ul className=\"list-disc pl-5\">\r\n-                                    {details.circumstances && Object.entries(details.circonstances)\r\n+\r\n+                                    {details.circumstances && Object.entries(details.circonstances|| {})\r\n                                         .filter(([_, value]) => value)\r\n                                         .map(([key, _]) => (\r\n                                             <li key={key}>{key}</li>\r\n                                         ))}\r\n"
                },
                {
                    "date": 1748387178920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n         if (open && accidentId) {\r\n             const fetchAccidentDetails = async () => {\r\n                 try {\r\n                     const res = await apiClient.post(\"/accident/getConstatByAccident\", { accidentId });\r\n-                    console.log(\"setAccidentDetailssetAccidentDetails\",res?.data?.result)\r\n+                    console.log(\"setAccidentDetails\", res?.data?.result);\r\n                     setAccidentDetails(res?.data?.result || []);\r\n                 } catch (error) {\r\n                     console.error(\"Error fetching accident details:\", error);\r\n                     setAccidentDetails([]);\r\n@@ -29,78 +29,80 @@\n     }, [open, accidentId]);\r\n \r\n     return (\r\n         <Dialog open={open} handler={onClose} size=\"lg\">\r\n-            <DialogHeader>Détails de l'Acc decreesident: {accidentId}</DialogHeader>\r\n+            <DialogHeader>Détails de l'Accident: {accidentId}</DialogHeader>\r\n             <DialogBody divider className=\"overflow-y-auto max-h-[60vh]\">\r\n                 {accidentDetails.length > 0 ? (\r\n                     accidentDetails.map((details, index) => (\r\n-                        <div key={index} className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Informations Générales</Typography>\r\n-                                <p><strong>Date:</strong> {details.date ? new Date(details.date).toLocaleDateString() : \"N/A\"}</p>\r\n-                                <p><strong>Heure:</strong> {details.time || \"N/A\"}</p>\r\n-                                <p><strong>Lieu:</strong> {details.location || \"N/A\"}</p>\r\n-                                <p><strong>Blessures:</strong> {details.injuries ? \"Oui\" : \"Non\"}</p>\r\n-                                <p><strong>Autres Dommages:</strong> {details.otherDamages ? \"Oui\" : \"Non\"}</p>\r\n+                        <div key={index} className=\"mb-6\">\r\n+                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Utilisateur</Typography>\r\n+                                    <p><strong>Nom:</strong> {details.userId?.name || \"N/A\"}</p>\r\n+                                    <p><strong>Prénom:</strong> {details.userId?.prenom || \"N/A\"}</p>\r\n+                                    <p><strong>CIN:</strong> {details.userId?.cin || \"N/A\"}</p>\r\n+                                    <p><strong>Téléphone:</strong> {details.userId?.numeroTelephone || \"N/A\"}</p>\r\n+                                    <p><strong>Numéro de Permis:</strong> {details.userId?.numeroPermis || \"N/A\"}</p>\r\n+                                    < p><strong>Email:</strong> {details.userId?.email || \"N/A\"}</p>\r\n+                                </div>\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Informations Générales</Typography>\r\n+                                    <p><strong>Date:</strong> {details.date ? new Date(details.date).toLocaleDateString() : \"N/A\"}</p>\r\n+                                    <p><strong>Heure:</strong> {details.time || \"N/A\"}</p>\r\n+                                    <p><strong>Lieu:</strong> {details.location || \"N/A\"}</p>\r\n+                                    <p><strong>Blessures:</strong> {details.injuries ? \"Oui\" : \"Non\"}</p>\r\n+                                    <p><strong>Autres Dommages:</strong> {details.otherDamages ? \"Oui\" : \"Non\"}</p>\r\n+                                </div>\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Informations sur l'Assurance</Typography>\r\n+                                    <p><strong>Assureur:</strong> {details.insuredVehicle || \"N/A\"}</p>\r\n+                                    <p><strong>Numéro de Contrat:</strong> {details.contractNumber || \"N/A\"}</p>\r\n+                                    <p><strong>Agence:</strong> {details.agency || \"N/A\"}</p>\r\n+                                    <p><strong>Valide du:</strong> {details.validFrom ? new Date(details.validFrom).toLocaleDateString() : \"N/A\"}</p>\r\n+                                    <p><strong>Valide jusqu'à:</strong> {details.validTo ? new Date(details.validTo).toLocaleDateString() : \"N/A\"}</p>\r\n+                                </div>\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Conducteur</Typography>\r\n+                                    <p><strong>Nom:</strong> {details.driverLastName || \"N/A\"}</p>\r\n+                                    <p><strong>Prénom:</strong> {details.driverFirstName || \"N/A\"}</p>\r\n+                                    <p><strong>Adresse:</strong> {details.driverAddress || \"N/A\"}</p>\r\n+                                    <p><strong>Numéro de Permis:</strong> {details.driverLicenseNumber || \"N/A\"}</p>\r\n+                                    <p><strong>Date de Délivrance:</strong> {details.licenseIssueDate ? new Date(details.licenseIssueDate).toLocaleDateString() : \"N/A\"}</p>\r\n+                                </div>\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Assuré</Typography>\r\n+                                    <p><strong>Nom:</strong> {details.insuredLastName || \"N/A\"}</p>\r\n+                                    <p><strong>Prénom:</strong> {details.insuredFirstName || \"N/A\"}</p>\r\n+                                    <p><strong>Adresse:</strong> {details.insuredAddress || \"N/A\"}</p>\r\n+                                    <p><strong>Téléphone:</strong> {details.insuredPhone || \"N/A\"}</p>\r\n+                                </div>\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n+                                    <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n+                                    <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n+                                    <p><strong>Type:</strong> {details.vehicleType || \"N/A\"}</p>\r\n+                                    <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n+                                    <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n+                                    <p><strong>Se dirigeant vers:</strong> {details.goingTo || \"N/A\"}</p>\r\n+                                </div>\r\n+                                <div>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Détails de l'Accident</Typography>\r\n+                                    <p><strong>Face Endommagée:</strong> {details.face || \"N/A\"}</p>\r\n+                                    <p><strong>Description des Dommages:</strong> {details.damageDescription || \"N/A\"}</p>\r\n+                                    <p><strong>Circonstances:</strong></p>\r\n+                                    <ul className=\"list-disc pl-5\">\r\n+                                        {details.circumstances && Object.entries(details.circumstances)\r\n+                                            .filter(([_, value]) => value)\r\n+                                            .map(([key, _]) => (\r\n+                                                <li key={key}>{key}</li>\r\n+                                            ))}\r\n+                                        {(!details.circumstances || Object.values(details.circumstances).every(val => !val)) && <li>Aucune circonstance spécifiée</li>}\r\n+                                    </ul>\r\n+                                    <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n+                                </div>\r\n                             </div>\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Informations sur l'Assurance</Typography>\r\n-                                <p><strong>Assureur:</strong> {details.insuredVehicle || \"N/A\"}</p>\r\n-                                <p><strong>Numéro de Contrat:</strong> {details.contractNumber || \"N/A\"}</p>\r\n-                                <p><strong>Agence:</strong> {details.agency || \"N/A\"}</p>\r\n-                                <p><strong>Valide du:</strong> {details.validFrom ? new Date(details.validFrom).toLocaleDateString() : \"N/A\"}</p>\r\n-                                <p><strong>Valide jusqu'à:</strong> {details.validTo ? new Date(details.validTo).toLocaleDateString() : \"N/A\"}</p>\r\n-                            </div>\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Conducteur</Typography>\r\n-                                <p><strong>Nom:</strong> {details.driverLastName || \"N/A\"}</p>\r\n-                                <p><strong>Prénom:</strong> {details.driverFirstName || \"N/A\"}</p>\r\n-                                <p><strong>Adresse:</strong> {details.driverAddress || \"N/A\"}</p>\r\n-                                <p><strong>Numéro de Permis:</strong> {details.driverLicenseNumber || \"N/A\"}</p>\r\n-                                <p><strong>Date de Délivrance:</strong> {details.licenseIssueDate ? new Date(details.licenseIssueDate).toLocaleDateString() : \"N/A\"}</p>\r\n-                            </div>\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Assuré</Typography>\r\n-                                <p><strong>Nom:</strong> {details.insuredLastName || \"N/A\"}</p>\r\n-                                <p><strong>Prénom:</strong> {details.insuredFirstName || \"N/A\"}</p>\r\n-                                <p><strong>Adresse:</strong> {details.insuredAddress || \"N/A\"}</p>\r\n-                                <p><strong>Téléphone:</strong> {details.insuredPhone || \"N/A\"}</p>\r\n-                            </div>\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n-                                <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n-                                <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n-                                <p><strong>Type:</strong> {details.vehicleType || \"N/A\"}</p>\r\n-                                <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n-                                <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n-                                <p><strong>Se dirigeant vers:</strong> {details.goingTo || \"N/A\"}</p>\r\n-                            </div>\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Détails de l'Accident</Typography>\r\n-                                <p><strong>Face Endommagée:</strong> {details.face || \"N/A\"}</p>\r\n-                                <p><strong>Description des Dommages:</strong> {details.damageDescription || \"N/A\"}</p>\r\n-                                <p><strong>Circonstances:</strong></p>\r\n-                                <ul className=\"list-disc pl-5\">\r\n-\r\n-                                    {details.circumstances && Object.entries(details.circonstances|| {})\r\n-                                        .filter(([_, value]) => value)\r\n-                                        .map(([key, _]) => (\r\n-                                            <li key={key}>{key}</li>\r\n-                                        ))}\r\n-                                    {(!details.circonstances || Object.values(details.circonstances).every(val => !val)) && <li>Aucune circonstance spécifiée</li>}\r\n-                                </ul>\r\n-                                <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n-                            </div>\r\n-                            <div>\r\n-                                <Typography variant=\"h6\" color=\"blue-gray\">Utilisateur</Typography>\r\n-                                <p><strong>Nom:</strong> {details.userId?.name || \"N/A\"}</p>\r\n-                                <p><strong>Prénom:</strong> {details.userId?.prenom || \"N/A\"}</p>\r\n-                                <p><strong>CIN:</strong> {details.userId?.cin || \"N/A\"}</p>\r\n-                                <p><strong>Téléphone:</strong> {details.userId?.numeroTelephone || \"N/A\"}</p>\r\n-                                <p><strong>Numéro de Permis:</strong> {details.userId?.numeroPermis || \"N/A\"}</p>\r\n-                                <p><strong>Email:</strong> {details.userId?.email || \"N/A\"}</p>\r\n-                            </div>\r\n+                            {index < accidentDetails.length - 1 && <hr className=\"my-6 border-gray-300\" />}\r\n                         </div>\r\n                     ))\r\n                 ) : (\r\n                     <Typography color=\"blue-gray\">Chargement des détails ou aucune donnée disponible...</Typography>\r\n"
                },
                {
                    "date": 1748387559632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n                                     <p><strong>Prénom:</strong> {details.userId?.prenom || \"N/A\"}</p>\r\n                                     <p><strong>CIN:</strong> {details.userId?.cin || \"N/A\"}</p>\r\n                                     <p><strong>Téléphone:</strong> {details.userId?.numeroTelephone || \"N/A\"}</p>\r\n                                     <p><strong>Numéro de Permis:</strong> {details.userId?.numeroPermis || \"N/A\"}</p>\r\n-                                    < p><strong>Email:</strong> {details.userId?.email || \"N/A\"}</p>\r\n+                                    <p><strong>Email:</strong> {details.userId?.email || \"N/A\"}</p>\r\n                                 </div>\r\n                                 <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Informations Générales</Typography>\r\n                                     <p><strong>Date:</strong> {details.date ? new Date(details.date).toLocaleDateString() : \"N/A\"}</p>\r\n@@ -99,8 +99,56 @@\n                                         {(!details.circumstances || Object.values(details.circumstances).every(val => !val)) && <li>Aucune circonstance spécifiée</li>}\r\n                                     </ul>\r\n                                     <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n                                 </div>\r\n+                                <div className=\"col-span-1 md:col-span-2\">\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Images</Typography>\r\n+                                    <div className=\"flex flex-wrap gap-4 mt-2\">\r\n+                                        {details.frontImage && (\r\n+                                            <div className=\"flex flex-col items-center\">\r\n+                                                <img\r\n+                                                    src={apiClient?.getBaseURL() +'/'+ details.frontImage}\r\n+                                                    alt=\"Avant\"\r\n+                                                    className=\"w-32 h-32 object-cover rounded-md\"\r\n+                                                />\r\n+                                                <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Avant</Typography>\r\n+                                            </div>\r\n+                                        )}\r\n+                                        {details.backImage && (\r\n+                                            <div className=\"flex flex-col items-center\">\r\n+                                                <img\r\n+                                                    src={apiClient?.getBaseURL() +'/'+details.backImage}\r\n+                                                    alt=\"Arrière\"\r\n+                                                    className=\"w-32 h-32 object-cover rounded-md\"\r\n+                                                />\r\n+                                                <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Arrière</Typography>\r\n+                                            </div>\r\n+                                        )}\r\n+                                        {details.leftImage && (\r\n+                                            <div className=\"flex flex-col items-center\">\r\n+                                                <img\r\n+                                                    src={apiClient?.getBaseURL() +'/'+details.leftImage}\r\n+                                                    alt=\"Gauche\"\r\n+                                                    className=\"w-32 h-32 object-cover rounded-md\"\r\n+                                                />\r\n+                                                <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Gauche</Typography>\r\n+                                            </div>\r\n+                                        )}\r\n+                                        {details.rightImage && (\r\n+                                            <div className=\"flex flex-col items-center\">\r\n+                                                <img\r\n+                                                    src={apiClient?.getBaseURL() +'/'+details.rightImage}\r\n+                                                    alt=\"Droite\"\r\n+                                                    className=\"w-32 h-32 object-cover rounded-md\"\r\n+                                                />\r\n+                                                <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Droite</Typography>\r\n+                                            </div>\r\n+                                        )}\r\n+                                        {!details.frontImage && !details.backImage && !details.leftImage && !details.rightImage && (\r\n+                                            <Typography color=\"blue-gray\">Aucune image disponible</Typography>\r\n+                                        )}\r\n+                                    </div>\r\n+                                </div>\r\n                             </div>\r\n                             {index < accidentDetails.length - 1 && <hr className=\"my-6 border-gray-300\" />}\r\n                         </div>\r\n                     ))\r\n"
                },
                {
                    "date": 1748387663207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,13 +101,13 @@\n                                     <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n                                 </div>\r\n                                 <div className=\"col-span-1 md:col-span-2\">\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Images</Typography>\r\n-                                    <div className=\"flex flex-wrap gap-4 mt-2\">\r\n+                                    <div className=\"flex flex-wrap gap-4 mt-2 justify-center\">\r\n                                         {details.frontImage && (\r\n                                             <div className=\"flex flex-col items-center\">\r\n                                                 <img\r\n-                                                    src={apiClient?.getBaseURL() +'/'+ details.frontImage}\r\n+                                                    src={`${apiClient?.getBaseURL()}/${details.frontImage}`}\r\n                                                     alt=\"Avant\"\r\n                                                     className=\"w-32 h-32 object-cover rounded-md\"\r\n                                                 />\r\n                                                 <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Avant</Typography>\r\n@@ -115,9 +115,9 @@\n                                         )}\r\n                                         {details.backImage && (\r\n                                             <div className=\"flex flex-col items-center\">\r\n                                                 <img\r\n-                                                    src={apiClient?.getBaseURL() +'/'+details.backImage}\r\n+                                                    src={`${apiClient?.getBaseURL()}/${details.backImage}`}\r\n                                                     alt=\"Arrière\"\r\n                                                     className=\"w-32 h-32 object-cover rounded-md\"\r\n                                                 />\r\n                                                 <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Arrière</Typography>\r\n@@ -125,9 +125,9 @@\n                                         )}\r\n                                         {details.leftImage && (\r\n                                             <div className=\"flex flex-col items-center\">\r\n                                                 <img\r\n-                                                    src={apiClient?.getBaseURL() +'/'+details.leftImage}\r\n+                                                    src={`${apiClient?.getBaseURL()}/${details.leftImage}`}\r\n                                                     alt=\"Gauche\"\r\n                                                     className=\"w-32 h-32 object-cover rounded-md\"\r\n                                                 />\r\n                                                 <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Gauche</Typography>\r\n@@ -135,9 +135,9 @@\n                                         )}\r\n                                         {details.rightImage && (\r\n                                             <div className=\"flex flex-col items-center\">\r\n                                                 <img\r\n-                                                    src={apiClient?.getBaseURL() +'/'+details.rightImage}\r\n+                                                    src={`${apiClient?.getBaseURL()}/${details.rightImage}`}\r\n                                                     alt=\"Droite\"\r\n                                                     className=\"w-32 h-32 object-cover rounded-md\"\r\n                                                 />\r\n                                                 <Typography variant=\"small\" color=\"blue-gray\" className=\"mt-1\">Droite</Typography>\r\n"
                },
                {
                    "date": 1748388008367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n                     accidentDetails.map((details, index) => (\r\n                         <div key={index} className=\"mb-6\">\r\n                             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                 <div>\r\n-                                    <Typography variant=\"h6\" color=\"blue-gray\">Utilisateur</Typography>\r\n+                                    <Typography variant=\"h6\" color=\"blue-gray\">Assuré</Typography>\r\n                                     <p><strong>Nom:</strong> {details.userId?.name || \"N/A\"}</p>\r\n                                     <p><strong>Prénom:</strong> {details.userId?.prenom || \"N/A\"}</p>\r\n                                     <p><strong>CIN:</strong> {details.userId?.cin || \"N/A\"}</p>\r\n                                     <p><strong>Téléphone:</strong> {details.userId?.numeroTelephone || \"N/A\"}</p>\r\n@@ -68,15 +68,15 @@\n                                     <p><strong>Adresse:</strong> {details.driverAddress || \"N/A\"}</p>\r\n                                     <p><strong>Numéro de Permis:</strong> {details.driverLicenseNumber || \"N/A\"}</p>\r\n                                     <p><strong>Date de Délivrance:</strong> {details.licenseIssueDate ? new Date(details.licenseIssueDate).toLocaleDateString() : \"N/A\"}</p>\r\n                                 </div>\r\n-                                <div>\r\n+                                {/* <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Assuré</Typography>\r\n                                     <p><strong>Nom:</strong> {details.insuredLastName || \"N/A\"}</p>\r\n                                     <p><strong>Prénom:</strong> {details.insuredFirstName || \"N/A\"}</p>\r\n                                     <p><strong>Adresse:</strong> {details.insuredAddress || \"N/A\"}</p>\r\n                                     <p><strong>Téléphone:</strong> {details.insuredPhone || \"N/A\"}</p>\r\n-                                </div>\r\n+                                </div> */}\r\n                                 <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n                                     <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n                                     <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n"
                },
                {
                    "date": 1748388049288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n                                 <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n                                     <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n                                     <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n-                                    <p><strong>Type:</strong> {details.vehicleType || \"N/A\"}</p>\r\n+                                    \r\n                                     <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n                                     <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n                                     <p><strong>Se dirigeant vers:</strong> {details.goingTo || \"N/A\"}</p>\r\n                                 </div>\r\n"
                },
                {
                    "date": 1748388087539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,15 +68,9 @@\n                                     <p><strong>Adresse:</strong> {details.driverAddress || \"N/A\"}</p>\r\n                                     <p><strong>Numéro de Permis:</strong> {details.driverLicenseNumber || \"N/A\"}</p>\r\n                                     <p><strong>Date de Délivrance:</strong> {details.licenseIssueDate ? new Date(details.licenseIssueDate).toLocaleDateString() : \"N/A\"}</p>\r\n                                 </div>\r\n-                                {/* <div>\r\n-                                    <Typography variant=\"h6\" color=\"blue-gray\">Assuré</Typography>\r\n-                                    <p><strong>Nom:</strong> {details.insuredLastName || \"N/A\"}</p>\r\n-                                    <p><strong>Prénom:</strong> {details.insuredFirstName || \"N/A\"}</p>\r\n-                                    <p><strong>Adresse:</strong> {details.insuredAddress || \"N/A\"}</p>\r\n-                                    <p><strong>Téléphone:</strong> {details.insuredPhone || \"N/A\"}</p>\r\n-                                </div> */}\r\n+                              \r\n                                 <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n                                     <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n                                     <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n"
                },
                {
                    "date": 1748388233242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,17 +68,12 @@\n                                     <p><strong>Adresse:</strong> {details.driverAddress || \"N/A\"}</p>\r\n                                     <p><strong>Numéro de Permis:</strong> {details.driverLicenseNumber || \"N/A\"}</p>\r\n                                     <p><strong>Date de Délivrance:</strong> {details.licenseIssueDate ? new Date(details.licenseIssueDate).toLocaleDateString() : \"N/A\"}</p>\r\n                                 </div>\r\n-                              \r\n                                 <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n                                     <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n                                     <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n-                                    \r\n-                                    <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n-                                    <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n-                                    <p><strong>Se dirigeant vers:</strong> {details.goingTo || \"N/A\"}</p>\r\n                                 </div>\r\n                                 <div>\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Détails de l'Accident</Typography>\r\n                                     <p><strong>Face Endommagée:</strong> {details.face || \"N/A\"}</p>\r\n@@ -92,8 +87,14 @@\n                                             ))}\r\n                                         {(!details.circumstances || Object.values(details.circumstances).every(val => !val)) && <li>Aucune circonstance spécifiée</li>}\r\n                                     </ul>\r\n                                     <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n+                                    <div className=\"mt-4\">\r\n+                                        <Typography variant=\"h6\" color=\"blue-gray\">Trajet</Typography>\r\n+                                        <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n+                                        <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n+                                        <p><strong>Se dirigeant vers:</strong> {details.goingTo || \"N/A\"}</p>\r\n+                                    </div>\r\n                                 </div>\r\n                                 <div className=\"col-span-1 md:col-span-2\">\r\n                                     <Typography variant=\"h6\" color=\"blue-gray\">Images</Typography>\r\n                                     <div className=\"flex flex-wrap gap-4 mt-2 justify-center\">\r\n"
                },
                {
                    "date": 1748388270387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,9 +86,9 @@\n                                                 <li key={key}>{key}</li>\r\n                                             ))}\r\n                                         {(!details.circumstances || Object.values(details.circumstances).every(val => !val)) && <li>Aucune circonstance spécifiée</li>}\r\n                                     </ul>\r\n-                                    <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n+                                   \r\n                                     <div className=\"mt-4\">\r\n                                         <Typography variant=\"h6\" color=\"blue-gray\">Trajet</Typography>\r\n                                         <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n                                         <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n"
                }
            ],
            "date": 1748386536191,
            "name": "Commit-0",
            "content": "import {\r\n    Dialog,\r\n    DialogHeader,\r\n    DialogBody,\r\n    DialogFooter,\r\n    Button,\r\n    Typography,\r\n} from \"@material-tailwind/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport apiClient from \"@/api/client\";\r\n\r\nexport function AccidentDetailsModal({ open, onClose, accidentId }) {\r\n    const [accidentDetails, setAccidentDetails] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (open && accidentId) {\r\n            const fetchAccidentDetails = async () => {\r\n                try {\r\n                    const res = await apiClient.post(\"/accident/getConstatByAccident\", { accidentId });\r\n                    setAccidentDetails(res.data?.result || []);\r\n                } catch (error) {\r\n                    console.error(\"Error fetching accident details:\", error);\r\n                    setAccidentDetails([]);\r\n                }\r\n            };\r\n            fetchAccidentDetails();\r\n        }\r\n    }, [open, accidentId]);\r\n\r\n    return (\r\n        <Dialog open={open} handler={onClose} size=\"lg\">\r\n            <DialogHeader>Détails de l'Acc decreesident: {accidentId}</DialogHeader>\r\n            <DialogBody divider className=\"overflow-y-auto max-h-[60vh]\">\r\n                {accidentDetails.length > 0 ? (\r\n                    accidentDetails.map((details, index) => (\r\n                        <div key={index} className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Informations Générales</Typography>\r\n                                <p><strong>Date:</strong> {details.date ? new Date(details.date).toLocaleDateString() : \"N/A\"}</p>\r\n                                <p><strong>Heure:</strong> {details.time || \"N/A\"}</p>\r\n                                <p><strong>Lieu:</strong> {details.location || \"N/A\"}</p>\r\n                                <p><strong>Blessures:</strong> {details.injuries ? \"Oui\" : \"Non\"}</p>\r\n                                <p><strong>Autres Dommages:</strong> {details.otherDamages ? \"Oui\" : \"Non\"}</p>\r\n                            </div>\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Informations sur l'Assurance</Typography>\r\n                                <p><strong>Assureur:</strong> {details.insuredVehicle || \"N/A\"}</p>\r\n                                <p><strong>Numéro de Contrat:</strong> {details.contractNumber || \"N/A\"}</p>\r\n                                <p><strong>Agence:</strong> {details.agency || \"N/A\"}</p>\r\n                                <p><strong>Valide du:</strong> {details.validFrom ? new Date(details.validFrom).toLocaleDateString() : \"N/A\"}</p>\r\n                                <p><strong>Valide jusqu'à:</strong> {details.validTo ? new Date(details.validTo).toLocaleDateString() : \"N/A\"}</p>\r\n                            </div>\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Conducteur</Typography>\r\n                                <p><strong>Nom:</strong> {details.driverLastName || \"N/A\"}</p>\r\n                                <p><strong>Prénom:</strong> {details.driverFirstName || \"N/A\"}</p>\r\n                                <p><strong>Adresse:</strong> {details.driverAddress || \"N/A\"}</p>\r\n                                <p><strong>Numéro de Permis:</strong> {details.driverLicenseNumber || \"N/A\"}</p>\r\n                                <p><strong>Date de Délivrance:</strong> {details.licenseIssueDate ? new Date(details.licenseIssueDate).toLocaleDateString() : \"N/A\"}</p>\r\n                            </div>\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Assuré</Typography>\r\n                                <p><strong>Nom:</strong> {details.insuredLastName || \"N/A\"}</p>\r\n                                <p><strong>Prénom:</strong> {details.insuredFirstName || \"N/A\"}</p>\r\n                                <p><strong>Adresse:</strong> {details.insuredAddress || \"N/A\"}</p>\r\n                                <p><strong>Téléphone:</strong> {details.insuredPhone || \"N/A\"}</p>\r\n                            </div>\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Véhicule</Typography>\r\n                                <p><strong>Marque:</strong> {details.vehicleBrand || \"N/A\"}</p>\r\n                                <p><strong>Immatriculation:</strong> {details.vehicleRegistration || \"N/A\"}</p>\r\n                                <p><strong>Type:</strong> {details.vehicleType || \"N/A\"}</p>\r\n                                <p><strong>Direction:</strong> {details.direction || \"N/A\"}</p>\r\n                                <p><strong>Provenant de:</strong> {details.comingFrom || \"N/A\"}</p>\r\n                                <p><strong>Se dirigeant vers:</strong> {details.goingTo || \"N/A\"}</p>\r\n                            </div>\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Détails de l'Accident</Typography>\r\n                                <p><strong>Face Endommagée:</strong> {details.face || \"N/A\"}</p>\r\n                                <p><strong>Description des Dommages:</strong> {details.damageDescription || \"N/A\"}</p>\r\n                                <p><strong>Circonstances:</strong></p>\r\n                                <ul className=\"list-disc pl-5\">\r\n                                    {details.circumstances && Object.entries(details.circonstances)\r\n                                        .filter(([_, value]) => value)\r\n                                        .map(([key, _]) => (\r\n                                            <li key={key}>{key}</li>\r\n                                        ))}\r\n                                    {(!details.circonstances || Object.values(details.circonstances).every(val => !val)) && <li>Aucune circonstance spécifiée</li>}\r\n                                </ul>\r\n                                <p><strong>Nombre de Cases Cochées:</strong> {details.numberOfCheckedBoxes || \"N/A\"}</p>\r\n                            </div>\r\n                            <div>\r\n                                <Typography variant=\"h6\" color=\"blue-gray\">Utilisateur</Typography>\r\n                                <p><strong>Nom:</strong> {details.userId?.name || \"N/A\"}</p>\r\n                                <p><strong>Prénom:</strong> {details.userId?.prenom || \"N/A\"}</p>\r\n                                <p><strong>CIN:</strong> {details.userId?.cin || \"N/A\"}</p>\r\n                                <p><strong>Téléphone:</strong> {details.userId?.numeroTelephone || \"N/A\"}</p>\r\n                                <p><strong>Numéro de Permis:</strong> {details.userId?.numeroPermis || \"N/A\"}</p>\r\n                                <p><strong>Email:</strong> {details.userId?.email || \"N/A\"}</p>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    <Typography color=\"blue-gray\">Chargement des détails ou aucune donnée disponible...</Typography>\r\n                )}\r\n            </DialogBody>\r\n            <DialogFooter>\r\n                <Button variant=\"gradient\" color=\"gray\" onClick={onClose}>\r\n                    Fermer\r\n                </Button>\r\n            </DialogFooter>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nexport default AccidentDetailsModal;"
        }
    ]
}