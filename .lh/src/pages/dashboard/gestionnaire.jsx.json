{
    "sourceFile": "src/pages/dashboard/gestionnaire.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 13,
            "patches": [
                {
                    "date": 1748449622872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748450046692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,138 @@\n-import React from 'react'\r\n+import {\r\n+    Card,\r\n+    CardHeader,\r\n+    CardBody,\r\n+    Typography,\r\n+} from \"@material-tailwind/react\";\r\n+import { useEffect, useState } from \"react\";\r\n+import client from \"../../api/client\";\r\n+import AddExpertModal from \"../../components/AddExpertModal\";\r\n \r\n function Gestionnaire() {\r\n-  return (\r\n-    <div>gestionnaire</div>\r\n-  )\r\n+     const [gestionnaires, setGestionnaires] = useState([]);\r\n+    const [search, setSearch] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const gestionnairePerPage = 5;\r\n+const [openModal, setOpenModal] = useState(false);\r\n+\r\n+\r\n+   const fetchGestionnaires = async () => {\r\n+            const res = await client.get(\"/admin/getGestionnaire\"); \r\n+            setGestionnaires(res.data.result); \r\n+        };\r\n+    useEffect(() => {\r\n+     \r\n+        fetchGestionnaires();\r\n+    }, []);\r\n+\r\n+    const filteredGestionnaires = gestionnaires.filter((gest) =>\r\n+        gest.name.toLowerCase().includes(search.toLowerCase())\r\n+    );\r\n+\r\n+    const indexOfLast = currentPage * gestionnairePerPage;\r\n+    const indexOfFirst = indexOfLast - gestionnairePerPage;\r\n+    const currentGestionnaires = filteredGestionnaires.slice(indexOfFirst, indexOfLast);\r\n+    const totalPages = Math.ceil(filteredGestionnaires.length / gestionnairePerPage);\r\n+\r\n+    return (\r\n+        <div className=\"mt-12 mb-8 flex flex-col gap-12\">\r\n+            <Card>\r\n+          <CardHeader\r\n+    variant=\"gradient\"\r\n+    color=\"gray\"\r\n+    className=\"mb-8 p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4\"\r\n+>\r\n+    <Typography variant=\"h6\" color=\"white\">\r\n+        Liste des Gestionnaires\r\n+    </Typography>\r\n+    <div className=\"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto\">\r\n+        <input\r\n+            type=\"text\"\r\n+            placeholder=\"Rechercher par nom...\"\r\n+            className=\"px-3 py-2 rounded-md text-sm text-gray-800 w-full md:w-64\"\r\n+            onChange={(e) => {\r\n+                setSearch(e.target.value);\r\n+                setCurrentPage(1);\r\n+            }}\r\n+        />\r\n+        <button\r\n+            className=\"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded-md\"\r\n+         onClick={() => setOpenModal(true)}\r\n+        >\r\n+            Ajouter Gestionnaire\r\n+        </button>\r\n+    </div>\r\n+</CardHeader>\r\n+\r\n+\r\n+                <CardBody className=\"overflow-x-scroll px-0 pt-0 pb-2\">\r\n+                    <table className=\"w-full min-w-[640px] table-auto\">\r\n+                        <thead>\r\n+                            <tr>\r\n+                                {[\"Nom\", \"Email\", \"Rôle\", \"Statut\", \"Créé le\"].map((el) => (\r\n+                                    <th key={el} className=\"border-b border-blue-gray-50 py-3 px-5 text-center\">\r\n+                                        <Typography\r\n+                                            variant=\"small\"\r\n+                                            className=\"text-[11px] font-bold uppercase text-blue-gray-400\"\r\n+                                        >\r\n+                                            {el}\r\n+                                        </Typography>\r\n+                                    </th>\r\n+                                ))}\r\n+                            </tr>\r\n+                        </thead>\r\n+                        <tbody>\r\n+                            {currentGestionnaires.map(({ _id, name, email, role, isActive, createdAt }) => {\r\n+                                const className = `py-3 px-5 border-b border-blue-gray-50 text-center`;\r\n+                                return (\r\n+                                    <tr key={_id}>\r\n+                                        <td className={className}>{name}</td>\r\n+                                        <td className={className}>{email}</td>\r\n+                                        <td className={className}>{role}</td>\r\n+                                        <td className={className}>\r\n+                                            <span className={`px-2 py-1 rounded text-xs font-semibold ${isActive ? \"bg-green-200 text-green-700\" : \"bg-red-200 text-red-700\"}`}>\r\n+                                                {isActive ? \"Actif\" : \"Inactif\"}\r\n+                                            </span>\r\n+                                        </td>\r\n+                                        <td className={className}>{new Date(createdAt).toLocaleDateString()}</td>\r\n+                                    </tr>\r\n+                                );\r\n+                            })}\r\n+                        </tbody>\r\n+                    </table>\r\n+\r\n+                    {/* Pagination */}\r\n+                    <div className=\"flex justify-center items-center mt-6 gap-2\">\r\n+                        <button\r\n+                            onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+                            disabled={currentPage === 1}\r\n+                            className=\"px-3 py-1 text-sm bg-gray-200 rounded disabled:opacity-50\"\r\n+                        >\r\n+                            Précédent\r\n+                        </button>\r\n+                        <span className=\"text-sm font-medium\">\r\n+                            Page {currentPage} / {totalPages}\r\n+                        </span>\r\n+                        <button\r\n+                            onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))}\r\n+                            disabled={currentPage === totalPages}\r\n+                            className=\"px-3 py-1 text-sm bg-gray-200 rounded disabled:opacity-50\"\r\n+                        >\r\n+                            Suivant\r\n+                        </button>\r\n+                    </div>\r\n+                </CardBody>\r\n+            </Card>\r\n+\r\n+            <AddExpertModal\r\n+    open={openModal}\r\n+     handleClose={() => setOpenModal(false)}\r\n+    onExpertAdded={fetchGestionnaires}\r\n+/>\r\n+        </div>\r\n+    );\r\n }\r\n \r\n+\r\n+\r\n export default Gestionnaire\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748450359406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n } from \"@material-tailwind/react\";\r\n import { useEffect, useState } from \"react\";\r\n import client from \"../../api/client\";\r\n import AddExpertModal from \"../../components/AddExpertModal\";\r\n+import AjouterGestionnaire from \"@/components/AjouterGestionnaire\";\r\n \r\n function Gestionnaire() {\r\n      const [gestionnaires, setGestionnaires] = useState([]);\r\n     const [search, setSearch] = useState(\"\");\r\n@@ -123,12 +124,12 @@\n                     </div>\r\n                 </CardBody>\r\n             </Card>\r\n \r\n-            <AddExpertModal\r\n+            <AjouterGestionnaire\r\n     open={openModal}\r\n      handleClose={() => setOpenModal(false)}\r\n-    onExpertAdded={fetchGestionnaires}\r\n+    onGestionnairedded={fetchGestionnaires}\r\n />\r\n         </div>\r\n     );\r\n }\r\n"
                },
                {
                    "date": 1749324582486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n     Typography,\r\n } from \"@material-tailwind/react\";\r\n import { useEffect, useState } from \"react\";\r\n import client from \"../../api/client\";\r\n-import AddExpertModal from \"../../components/AddExpertModal\";\r\n+\r\n import AjouterGestionnaire from \"@/components/AjouterGestionnaire\";\r\n \r\n function Gestionnaire() {\r\n      const [gestionnaires, setGestionnaires] = useState([]);\r\n"
                },
                {
                    "date": 1749324959098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,28 +2,42 @@\n     Card,\r\n     CardHeader,\r\n     CardBody,\r\n     Typography,\r\n+    Button,\r\n } from \"@material-tailwind/react\";\r\n import { useEffect, useState } from \"react\";\r\n import client from \"../../api/client\";\r\n-\r\n+import { PencilIcon } from \"@heroicons/react/24/outline\";\r\n import AjouterGestionnaire from \"@/components/AjouterGestionnaire\";\r\n \r\n+import { ToastContainer, toast } from 'react-toastify';\r\n+import 'react-toastify/dist/ReactToastify.css';\r\n+import ModifierGestionnaire from \"@/components/ModifierGestionnaire\";\r\n+\r\n function Gestionnaire() {\r\n-     const [gestionnaires, setGestionnaires] = useState([]);\r\n+    const [gestionnaires, setGestionnaires] = useState([]);\r\n     const [search, setSearch] = useState(\"\");\r\n     const [currentPage, setCurrentPage] = useState(1);\r\n     const gestionnairePerPage = 5;\r\n-const [openModal, setOpenModal] = useState(false);\r\n+    const [openModal, setOpenModal] = useState(false);\r\n+    const [openModifierModal, setOpenModifierModal] = useState(false);\r\n+    const [selectedGestionnaire, setSelectedGestionnaire] = useState(null);\r\n \r\n+    const fetchGestionnaires = async () => {\r\n+        try {\r\n+            const res = await client.get(\"/admin/getGestionnaire\");\r\n+            setGestionnaires(res.data.result);\r\n+        } catch (error) {\r\n+            console.error(\"Error fetching gestionnaires:\", error);\r\n+            toast.error(\"Erreur lors du chargement des gestionnaires.\", {\r\n+                position: \"top-right\",\r\n+                autoClose: 3000,\r\n+            });\r\n+        }\r\n+    };\r\n \r\n-   const fetchGestionnaires = async () => {\r\n-            const res = await client.get(\"/admin/getGestionnaire\"); \r\n-            setGestionnaires(res.data.result); \r\n-        };\r\n     useEffect(() => {\r\n-     \r\n         fetchGestionnaires();\r\n     }, []);\r\n \r\n     const filteredGestionnaires = gestionnaires.filter((gest) =>\r\n@@ -34,44 +48,48 @@\n     const indexOfFirst = indexOfLast - gestionnairePerPage;\r\n     const currentGestionnaires = filteredGestionnaires.slice(indexOfFirst, indexOfLast);\r\n     const totalPages = Math.ceil(filteredGestionnaires.length / gestionnairePerPage);\r\n \r\n+    const handleOpenModifierModal = (gestionnaire) => {\r\n+        setSelectedGestionnaire(gestionnaire);\r\n+        setOpenModifierModal(true);\r\n+    };\r\n+\r\n     return (\r\n         <div className=\"mt-12 mb-8 flex flex-col gap-12\">\r\n+            <ToastContainer position=\"top-center\" />\r\n             <Card>\r\n-          <CardHeader\r\n-    variant=\"gradient\"\r\n-    color=\"gray\"\r\n-    className=\"mb-8 p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4\"\r\n->\r\n-    <Typography variant=\"h6\" color=\"white\">\r\n-        Liste des Gestionnaires\r\n-    </Typography>\r\n-    <div className=\"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto\">\r\n-        <input\r\n-            type=\"text\"\r\n-            placeholder=\"Rechercher par nom...\"\r\n-            className=\"px-3 py-2 rounded-md text-sm text-gray-800 w-full md:w-64\"\r\n-            onChange={(e) => {\r\n-                setSearch(e.target.value);\r\n-                setCurrentPage(1);\r\n-            }}\r\n-        />\r\n-        <button\r\n-            className=\"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded-md\"\r\n-         onClick={() => setOpenModal(true)}\r\n-        >\r\n-            Ajouter Gestionnaire\r\n-        </button>\r\n-    </div>\r\n-</CardHeader>\r\n-\r\n-\r\n+                <CardHeader\r\n+                    variant=\"gradient\"\r\n+                    color=\"gray\"\r\n+                    className=\"mb-8 p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4\"\r\n+                >\r\n+                    <Typography variant=\"h6\" color=\"white\">\r\n+                        Liste des Gestionnaires\r\n+                    </Typography>\r\n+                    <div className=\"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto\">\r\n+                        <input\r\n+                            type=\"text\"\r\n+                            placeholder=\"Rechercher par nom...\"\r\n+                            className=\"px-3 py-2 rounded-md text-sm text-gray-800 w-full md:w-64\"\r\n+                            onChange={(e) => {\r\n+                                setSearch(e.target.value);\r\n+                                setCurrentPage(1);\r\n+                            }}\r\n+                        />\r\n+                        <button\r\n+                            className=\"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded-md\"\r\n+                            onClick={() => setOpenModal(true)}\r\n+                        >\r\n+                            Ajouter Gestionnaire\r\n+                        </button>\r\n+                    </div>\r\n+                </CardHeader>\r\n                 <CardBody className=\"overflow-x-scroll px-0 pt-0 pb-2\">\r\n                     <table className=\"w-full min-w-[640px] table-auto\">\r\n                         <thead>\r\n                             <tr>\r\n-                                {[\"Nom\", \"Email\", \"Rôle\", \"Statut\", \"Créé le\"].map((el) => (\r\n+                                {[\"Nom\", \"Email\", \"Rôle\", \"Statut\", \"Créé le\", \"Actions\"].map((el) => (\r\n                                     <th key={el} className=\"border-b border-blue-gray-50 py-3 px-5 text-center\">\r\n                                         <Typography\r\n                                             variant=\"small\"\r\n                                             className=\"text-[11px] font-bold uppercase text-blue-gray-400\"\r\n@@ -95,15 +113,22 @@\n                                                 {isActive ? \"Actif\" : \"Inactif\"}\r\n                                             </span>\r\n                                         </td>\r\n                                         <td className={className}>{new Date(createdAt).toLocaleDateString()}</td>\r\n+                                        <td className={className}>\r\n+                                            <button\r\n+                                                onClick={() => handleOpenModifierModal({ _id, name, email, role, isActive })}\r\n+                                                className=\"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n+                                            >\r\n+                                                <PencilIcon className=\"h-4 w-4\" />\r\n+                                                Modifier\r\n+                                            </button>\r\n+                                        </td>\r\n                                     </tr>\r\n                                 );\r\n                             })}\r\n                         </tbody>\r\n                     </table>\r\n-\r\n-                    {/* Pagination */}\r\n                     <div className=\"flex justify-center items-center mt-6 gap-2\">\r\n                         <button\r\n                             onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n                             disabled={currentPage === 1}\r\n@@ -123,17 +148,25 @@\n                         </button>\r\n                     </div>\r\n                 </CardBody>\r\n             </Card>\r\n+            <AjouterGestionnaire\r\n+                open={openModal}\r\n+                handleClose={() => setOpenModal(false)}\r\n+                onGestionnaireAdded={fetchGestionnaires}\r\n+            />\r\n+            <ModifierGestionnaire\r\n+                open={openModifierModal}\r\n+                handleClose={() => {\r\n+                    setOpenModifierModal(false);\r\n+                    setSelectedGestionnaire(null);\r\n \r\n-            <AjouterGestionnaire\r\n-    open={openModal}\r\n\\ No newline at end of file\n-     handleClose={() => setOpenModal(false)}\r\n-    onGestionnairedded={fetchGestionnaires}\r\n-/>\r\n+\r\n+                }}\r\n+                gestionnaire={selectedGestionnaire}\r\n+                onGestionnaireUpdated={fetchGestionnaires}\r\n+            />\r\n         </div>\r\n     );\r\n }\r\n \r\n-\r\n-\r\n-export default Gestionnaire\n+export default Gestionnaire;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1749325214370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,9 @@\n     const currentGestionnaires = filteredGestionnaires.slice(indexOfFirst, indexOfLast);\r\n     const totalPages = Math.ceil(filteredGestionnaires.length / gestionnairePerPage);\r\n \r\n     const handleOpenModifierModal = (gestionnaire) => {\r\n+        console.log(\"gestionnaire\",gestionnaire)\r\n         setSelectedGestionnaire(gestionnaire);\r\n         setOpenModifierModal(true);\r\n     };\r\n \r\n"
                },
                {
                    "date": 1749325232296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     const currentGestionnaires = filteredGestionnaires.slice(indexOfFirst, indexOfLast);\r\n     const totalPages = Math.ceil(filteredGestionnaires.length / gestionnairePerPage);\r\n \r\n     const handleOpenModifierModal = (gestionnaire) => {\r\n-        console.log(\"gestionnaire\",gestionnaire)\r\n+        \r\n         setSelectedGestionnaire(gestionnaire);\r\n         setOpenModifierModal(true);\r\n     };\r\n \r\n"
                },
                {
                    "date": 1749325374511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n                                         </td>\r\n                                         <td className={className}>{new Date(createdAt).toLocaleDateString()}</td>\r\n                                         <td className={className}>\r\n                                             <button\r\n-                                                onClick={() => handleOpenModifierModal({ _id, name, email, role, isActive })}\r\n+                                                onClick={() => handleOpenModifierModal({ _id, name, email})}\r\n                                                 className=\"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n                                             >\r\n                                                 <PencilIcon className=\"h-4 w-4\" />\r\n                                                 Modifier\r\n"
                },
                {
                    "date": 1749325555028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+\r\n import {\r\n     Card,\r\n     CardHeader,\r\n     CardBody,\r\n@@ -8,12 +9,11 @@\n import { useEffect, useState } from \"react\";\r\n import client from \"../../api/client\";\r\n import { PencilIcon } from \"@heroicons/react/24/outline\";\r\n import AjouterGestionnaire from \"@/components/AjouterGestionnaire\";\r\n-\r\n+import ModifierGestionnaire from \"@/components/ModifierGestionnaire\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\n-import ModifierGestionnaire from \"@/components/ModifierGestionnaire\";\r\n \r\n function Gestionnaire() {\r\n     const [gestionnaires, setGestionnaires] = useState([]);\r\n     const [search, setSearch] = useState(\"\");\r\n@@ -49,9 +49,8 @@\n     const currentGestionnaires = filteredGestionnaires.slice(indexOfFirst, indexOfLast);\r\n     const totalPages = Math.ceil(filteredGestionnaires.length / gestionnairePerPage);\r\n \r\n     const handleOpenModifierModal = (gestionnaire) => {\r\n-        \r\n         setSelectedGestionnaire(gestionnaire);\r\n         setOpenModifierModal(true);\r\n     };\r\n \r\n@@ -116,9 +115,9 @@\n                                         </td>\r\n                                         <td className={className}>{new Date(createdAt).toLocaleDateString()}</td>\r\n                                         <td className={className}>\r\n                                             <button\r\n-                                                onClick={() => handleOpenModifierModal({ _id, name, email})}\r\n+                                                onClick={() => handleOpenModifierModal({ _id, name, email, role, isActive })}\r\n                                                 className=\"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n                                             >\r\n                                                 <PencilIcon className=\"h-4 w-4\" />\r\n                                                 Modifier\r\n@@ -128,9 +127,11 @@\n                                 );\r\n                             })}\r\n                         </tbody>\r\n                     </table>\r\n-                    <div className=\"flex justify-center items-center mt-6 gap-2\">\r\n+                    <div className=\"\r\n+\r\n+flex justify-center items-center mt-6 gap-2\">\r\n                         <button\r\n                             onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n                             disabled={currentPage === 1}\r\n                             className=\"px-3 py-1 text-sm bg-gray-200 rounded disabled:opacity-50\"\r\n@@ -159,15 +160,13 @@\n                 open={openModifierModal}\r\n                 handleClose={() => {\r\n                     setOpenModifierModal(false);\r\n                     setSelectedGestionnaire(null);\r\n-\r\n-\r\n                 }}\r\n                 gestionnaire={selectedGestionnaire}\r\n                 onGestionnaireUpdated={fetchGestionnaires}\r\n             />\r\n         </div>\r\n     );\r\n }\r\n \r\n-export default Gestionnaire;\n\\ No newline at end of file\n+export default Gestionnaire;\r\n"
                },
                {
                    "date": 1749325698974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,11 +9,12 @@\n import { useEffect, useState } from \"react\";\r\n import client from \"../../api/client\";\r\n import { PencilIcon } from \"@heroicons/react/24/outline\";\r\n import AjouterGestionnaire from \"@/components/AjouterGestionnaire\";\r\n-import ModifierGestionnaire from \"@/components/ModifierGestionnaire\";\r\n+\r\n import { ToastContainer, toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\n+import ModifierRole from \"@/components/ModifierRole\";\r\n \r\n function Gestionnaire() {\r\n     const [gestionnaires, setGestionnaires] = useState([]);\r\n     const [search, setSearch] = useState(\"\");\r\n@@ -155,9 +156,9 @@\n                 open={openModal}\r\n                 handleClose={() => setOpenModal(false)}\r\n                 onGestionnaireAdded={fetchGestionnaires}\r\n             />\r\n-            <ModifierGestionnaire\r\n+            <ModifierRole\r\n                 open={openModifierModal}\r\n                 handleClose={() => {\r\n                     setOpenModifierModal(false);\r\n                     setSelectedGestionnaire(null);\r\n"
                },
                {
                    "date": 1749326529394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,9 +117,9 @@\n                                         <td className={className}>{new Date(createdAt).toLocaleDateString()}</td>\r\n                                         <td className={className}>\r\n                                             <button\r\n                                                 onClick={() => handleOpenModifierModal({ _id, name, email, role, isActive })}\r\n-                                                className=\"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n+                                                className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600  text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n                                             >\r\n                                                 <PencilIcon className=\"h-4 w-4\" />\r\n                                                 Modifier\r\n                                             </button>\r\n"
                },
                {
                    "date": 1749327063268,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,22 +7,24 @@\n     Button,\r\n } from \"@material-tailwind/react\";\r\n import { useEffect, useState } from \"react\";\r\n import client from \"../../api/client\";\r\n-import { PencilIcon } from \"@heroicons/react/24/outline\";\r\n+import { PencilIcon, TrashIcon } from \"@heroicons/react/24/outline\";\r\n import AjouterGestionnaire from \"@/components/AjouterGestionnaire\";\r\n+import ModifierRole from \"@/components/ModifierRole\";\r\n \r\n import { ToastContainer, toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\n-import ModifierRole from \"@/components/ModifierRole\";\r\n+import SupprimerRole from \"@/components/SupprimerRole\";\r\n \r\n function Gestionnaire() {\r\n     const [gestionnaires, setGestionnaires] = useState([]);\r\n     const [search, setSearch] = useState(\"\");\r\n     const [currentPage, setCurrentPage] = useState(1);\r\n     const gestionnairePerPage = 5;\r\n     const [openModal, setOpenModal] = useState(false);\r\n     const [openModifierModal, setOpenModifierModal] = useState(false);\r\n+    const [openDeleteModal, setOpenDeleteModal] = useState(false);\r\n     const [selectedGestionnaire, setSelectedGestionnaire] = useState(null);\r\n \r\n     const fetchGestionnaires = async () => {\r\n         try {\r\n@@ -54,8 +56,13 @@\n         setSelectedGestionnaire(gestionnaire);\r\n         setOpenModifierModal(true);\r\n     };\r\n \r\n+    const handleOpenDeleteModal = (gestionnaire) => {\r\n+        setSelectedGestionnaire(gestionnaire);\r\n+        setOpenDeleteModal(true);\r\n+    };\r\n+\r\n     return (\r\n         <div className=\"mt-12 mb-8 flex flex-col gap-12\">\r\n             <ToastContainer position=\"top-center\" />\r\n             <Card>\r\n@@ -115,24 +122,31 @@\n                                             </span>\r\n                                         </td>\r\n                                         <td className={className}>{new Date(createdAt).toLocaleDateString()}</td>\r\n                                         <td className={className}>\r\n-                                            <button\r\n-                                                onClick={() => handleOpenModifierModal({ _id, name, email, role, isActive })}\r\n-                                                className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600  text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n-                                            >\r\n-                                                <PencilIcon className=\"h-4 w-4\" />\r\n-                                                Modifier\r\n-                                            </button>\r\n+                                            <div className=\"flex gap-2 justify-center\">\r\n+                                                <button\r\n+                                                    onClick={() => handleOpenModifierModal({ _id, name, email, role, isActive })}\r\n+                                                    className=\"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n+                                                >\r\n+                                                    <PencilIcon className=\"h-4 w-4\" />\r\n+                                                    Modifier\r\n+                                                </button>\r\n+                                                <button\r\n+                                                    onClick={() => handleOpenDeleteModal({ _id, name })}\r\n+                                                    className=\"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm transition\"\r\n+                                                >\r\n+                                                    <TrashIcon className=\"h-4 w-4\" />\r\n+                                                    Supprimer\r\n+                                                </button>\r\n+                                            </div>\r\n                                         </td>\r\n                                     </tr>\r\n                                 );\r\n                             })}\r\n                         </tbody>\r\n                     </table>\r\n-                    <div className=\"\r\n-\r\n-flex justify-center items-center mt-6 gap-2\">\r\n+                    <div className=\"flex justify-center items-center mt-6 gap-2\">\r\n                         <button\r\n                             onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n                             disabled={currentPage === 1}\r\n                             className=\"px-3 py-1 text-sm bg-gray-200 rounded disabled:opacity-50\"\r\n@@ -165,9 +179,18 @@\n                 }}\r\n                 gestionnaire={selectedGestionnaire}\r\n                 onGestionnaireUpdated={fetchGestionnaires}\r\n             />\r\n+            <SupprimerRole\r\n+                open={openDeleteModal}\r\n+                handleClose={() => {\r\n+                    setOpenDeleteModal(false);\r\n+                    setSelectedGestionnaire(null);\r\n+                }}\r\n+                gestionnaire={selectedGestionnaire}\r\n+                onGestionnaireDeleted={fetchGestionnaires}\r\n+            />\r\n         </div>\r\n     );\r\n }\r\n \r\n-export default Gestionnaire;\r\n+export default Gestionnaire;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1749327334011,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,12 +31,9 @@\n             const res = await client.get(\"/admin/getGestionnaire\");\r\n             setGestionnaires(res.data.result);\r\n         } catch (error) {\r\n             console.error(\"Error fetching gestionnaires:\", error);\r\n-            toast.error(\"Erreur lors du chargement des gestionnaires.\", {\r\n-                position: \"top-right\",\r\n-                autoClose: 3000,\r\n-            });\r\n+           \r\n         }\r\n     };\r\n \r\n     useEffect(() => {\r\n"
                },
                {
                    "date": 1749328572343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -165,9 +165,9 @@\n             </Card>\r\n             <AjouterGestionnaire\r\n                 open={openModal}\r\n                 handleClose={() => setOpenModal(false)}\r\n-                onGestionnaireAdded={fetchGestionnaires}\r\n+                onGestionnairedded={fetchGestionnaires}\r\n             />\r\n             <ModifierRole\r\n                 open={openModifierModal}\r\n                 handleClose={() => {\r\n"
                }
            ],
            "date": 1748449622872,
            "name": "Commit-0",
            "content": "import React from 'react'\r\n\r\nfunction Gestionnaire() {\r\n  return (\r\n    <div>gestionnaire</div>\r\n  )\r\n}\r\n\r\nexport default Gestionnaire"
        }
    ]
}